import"../chunks/DsnmJJEf.js";import{i as E}from"../chunks/Js6RBDMU.js";import{e as H,s as K,o as Q}from"../chunks/bpIvZrvQ.js";import{g as j,i as I,I as S,w as t,j as u,k as P,L as i,J as a,N as f,K as o,M as d,P as R,O as T,Q as V}from"../chunks/aBfoqvYt.js";import{i as M}from"../chunks/BLfWZvDB.js";import{r as z}from"../chunks/DOitrf1c.js";import{b as C}from"../chunks/CftqWuvZ.js";import{s as A}from"../chunks/C0nP9cRD.js";import{g as B}from"../chunks/BGtisTCY.js";var U=I('<div class="bg-red-50 border border-red-200 rounded-lg p-4"><div class="flex items-center"><svg class="w-5 h-5 text-red-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg> <span class="text-red-800 text-sm"> </span></div></div>'),W=R('<svg class="animate-spin h-5 w-5 mr-3 svelte-1uq82rf" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> –í—Ö–æ–¥...',1),X=I('<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4"><div class="w-full max-w-md bg-white rounded-2xl shadow-xl p-6 md:p-8"><div class="text-center mb-8"><h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-2">–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1></div> <form class="space-y-6"><!> <div><label for="login" class="block text-sm font-medium text-gray-700 mb-2">–õ–æ–≥–∏–Ω</label> <input id="login" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω" required class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-white text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-black-200 focus:border-transparent outline-none transition disabled:opacity-50 disabled:cursor-not-allowed" autocomplete="username"/></div> <div><label for="password" class="block text-sm font-medium text-gray-700 mb-2">–ü–∞—Ä–æ–ª—å</label> <input id="password" type="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-white text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-black-500 focus:border-transparent outline-none transition disabled:opacity-50 disabled:cursor-not-allowed" autocomplete="current-password"/></div> <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed flex items-center justify-center" style="background: black;"><!></button></form></div></div>');function Y(m,p){j(p,!1);let l=f(""),g=f(""),n=f(!1),c=f("");async function J(e){e.preventDefault(),d(n,!0),d(c,""),console.log("üîÑ –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ —Å –ª–æ–≥–∏–Ω–æ–º:",t(l));try{const{data:r,error:s}=await A.from("Admin_Panel").select("*").eq("login",t(l).trim()).eq("password",t(g)).single();if(s)throw console.error("‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:",s),s.code==="PGRST116"?new Error("–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å"):new Error("–û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: "+s.message);if(!r)throw new Error("–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å");console.log("‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥! –î–∞–Ω–Ω—ã–µ:",r),typeof window<"u"&&(sessionStorage.setItem("admin_user",JSON.stringify(r)),sessionStorage.setItem("admin_authenticated","true"),console.log("–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ sessionStorage")),await B("/admin_panel/admin")}catch(r){d(c,r.message),console.error("‚ùå –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:",r)}finally{d(n,!1)}}E();var v=X(),k=a(v),b=i(a(k),2),L=a(b);{var N=e=>{var r=U(),s=a(r),q=i(a(s),2),G=a(q,!0);o(q),o(s),o(r),S(()=>K(G,t(c))),u(e,r)};M(L,e=>{t(c)&&e(N)})}var w=i(L,2),x=i(a(w),2);z(x),o(w);var h=i(w,2),y=i(a(h),2);z(y),o(h);var _=i(h,2),O=a(_);{var D=e=>{var r=W();T(),u(e,r)},F=e=>{var r=V("–í–æ–π—Ç–∏");u(e,r)};M(O,e=>{t(n)?e(D):e(F,!1)})}o(_),o(b),o(k),o(v),S(()=>{x.disabled=t(n),y.disabled=t(n),_.disabled=t(n)}),C(x,()=>t(l),e=>d(l,e)),C(y,()=>t(g),e=>d(g,e)),H("submit",b,J),u(m,v),P()}function le(m,p){j(p,!1),Q(async()=>{const{data:{session:l}}=await A.auth.getSession();l&&await B("/admin_panel")}),E(),Y(m,{}),P()}export{le as component};
