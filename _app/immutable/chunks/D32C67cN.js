import{aH as K,L as Y,a8 as j,an as Q,e as X,aI as F,ar as x,x as _,p,a9 as Z,al as m,o as ee,q as te,a2 as C,H as se,a4 as d,aJ as T,ab as A,a0 as q,aG as S,aK as b,aL as P,aM as re,a as D,c as U,aN as ie,aO as ne,ae as L,C as R,$ as ae,A as oe,aP as H,aQ as le,E as ue,aR as he,aS as ce,aT as fe,w as de,aU as _e,at as pe,i as ge,aV as O,y as ve,aW as ye,ah as be,aX as V,D as k,aY as Ee,aj as me,a7 as we,aZ as Te,S as ke,v as Se,a3 as Re,a_ as Ne,V as Ae}from"./CTr3IETd.js";function Le(t){let e=0,r=j(0),i;return()=>{K()&&(Y(r),Q(()=>(e===0&&(i=X(()=>t(()=>F(r)))),e+=1,()=>{x(()=>{e-=1,e===0&&(i?.(),i=void 0,F(r))})})))}}var De=ue|he|ce;function Oe(t,e,r){new Ve(t,e,r)}class Ve{parent;#s=!1;#t;#g=p?_:null;#i;#c;#n;#r=null;#e=null;#a=null;#o=null;#l=null;#f=0;#u=0;#d=!1;#h=null;#b=()=>{this.#h&&Z(this.#h,this.#f)};#E=Le(()=>(this.#h=j(this.#f),()=>{this.#h=null}));constructor(e,r,i){this.#t=e,this.#i=r,this.#c=i,this.parent=m.b,this.#s=!!this.#i.pending,this.#n=ee(()=>{if(m.b=this,p){const s=this.#g;te(),s.nodeType===C&&s.data===se?this.#w():this.#m()}else{var n=this.#v();try{this.#r=d(()=>i(n))}catch(s){this.error(s)}this.#u>0?this.#p():this.#s=!1}return()=>{this.#l?.remove()}},De),p&&(this.#t=_)}#m(){try{this.#r=d(()=>this.#c(this.#t))}catch(e){this.error(e)}this.#s=!1}#w(){const e=this.#i.pending;e&&(this.#e=d(()=>e(this.#t)),T.enqueue(()=>{var r=this.#v();this.#r=this.#_(()=>(T.ensure(),d(()=>this.#c(r)))),this.#u>0?this.#p():(A(this.#e,()=>{this.#e=null}),this.#s=!1)}))}#v(){var e=this.#t;return this.#s&&(this.#l=q(),this.#t.before(this.#l),e=this.#l),e}is_pending(){return this.#s||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#i.pending}#_(e){var r=m,i=D,n=U;S(this.#n),b(this.#n),P(this.#n.ctx);try{return e()}catch(s){return re(s),null}finally{S(r),b(i),P(n)}}#p(){const e=this.#i.pending;this.#r!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#l),ie(this.#r,this.#o)),this.#e===null&&(this.#e=d(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#u+=e,this.#u===0&&(this.#s=!1,this.#e&&A(this.#e,()=>{this.#e=null}),this.#o&&(this.#t.before(this.#o),this.#o=null))}update_pending_count(e){this.#y(e),this.#f+=e,ne.add(this.#b)}get_effect_pending(){return this.#E(),Y(this.#h)}error(e){var r=this.#i.onerror;let i=this.#i.failed;if(this.#d||!r&&!i)throw e;this.#r&&(L(this.#r),this.#r=null),this.#e&&(L(this.#e),this.#e=null),this.#a&&(L(this.#a),this.#a=null),p&&(R(this.#g),ae(),R(oe()));var n=!1,s=!1;const a=()=>{if(n){fe();return}n=!0,s&&le(),T.ensure(),this.#f=0,this.#a!==null&&A(this.#a,()=>{this.#a=null}),this.#s=this.has_pending_snippet(),this.#r=this.#_(()=>(this.#d=!1,d(()=>this.#c(this.#t)))),this.#u>0?this.#p():this.#s=!1};var h=D;try{b(null),s=!0,r?.(e,a),s=!1}catch(u){H(u,this.#n&&this.#n.parent)}finally{b(h)}i&&x(()=>{this.#a=this.#_(()=>{T.ensure(),this.#d=!0;try{return d(()=>{i(this.#t,()=>e,()=>a)})}catch(u){return H(u,this.#n.parent),null}finally{this.#d=!1}})})}}function Be(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Ie=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function We(t){return Ie.includes(t)}const Me={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Ye(t){return t=t.toLowerCase(),Me[t]??t}const xe=["touchstart","touchmove"];function Ce(t){return xe.includes(t)}const $=new Set,I=new Set;function Fe(t,e,r,i={}){function n(s){if(i.capture||E.call(e,s),!s.cancelBubble)return _e(()=>r?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?x(()=>{e.addEventListener(t,n,i)}):e.addEventListener(t,n,i),n}function je(t,e,r,i,n){var s={capture:i,passive:n},a=Fe(t,e,r,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&de(()=>{e.removeEventListener(t,a,s)})}function qe(t){for(var e=0;e<t.length;e++)$.add(t[e]);for(var r of I)r(t)}let B=null;function E(t){var e=this,r=e.ownerDocument,i=t.type,n=t.composedPath?.()||[],s=n[0]||t.target;B=t;var a=0,h=B===t&&t.__root;if(h){var u=n.indexOf(h);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var g=n.indexOf(e);if(g===-1)return;u<=g&&(a=u)}if(s=n[a]||t.target,s!==e){pe(t,"currentTarget",{configurable:!0,get(){return s||r}});var N=D,c=m;b(null),S(null);try{for(var o,l=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var f=s["__"+i];if(f!=null&&(!s.disabled||t.target===s))if(ge(f)){var[z,...J]=f;z.apply(s,[t,...J])}else f.call(s,t)}catch(w){o?l.push(w):o=w}if(t.cancelBubble||v===e||v===null)break;s=v}if(o){for(let w of l)queueMicrotask(()=>{throw w});throw o}}finally{t.__root=e,delete t.currentTarget,b(N),S(c)}}}let W=!0;function Ue(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function Pe(t,e){return G(t,e)}function $e(t,e){O(),e.intro=e.intro??!1;const r=e.target,i=p,n=_;try{for(var s=ve(r);s&&(s.nodeType!==C||s.data!==ye);)s=be(s);if(!s)throw V;k(!0),R(s);const a=G(t,{...e,anchor:s});return k(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(h=>h.startsWith("https://svelte.dev/e/")))throw a;return a!==V&&console.warn("Failed to hydrate: ",a),e.recover===!1&&Ee(),O(),me(r),k(!1),Pe(t,e)}finally{k(i),R(n)}}const y=new Map;function G(t,{target:e,anchor:r,props:i={},events:n,context:s,intro:a=!0}){O();var h=new Set,u=c=>{for(var o=0;o<c.length;o++){var l=c[o];if(!h.has(l)){h.add(l);var v=Ce(l);e.addEventListener(l,E,{passive:v});var f=y.get(l);f===void 0?(document.addEventListener(l,E,{passive:v}),y.set(l,1)):y.set(l,f+1)}}};u(we($)),I.add(u);var g=void 0,N=Te(()=>{var c=r??e.appendChild(q());return Oe(c,{pending:()=>{}},o=>{if(s){ke({});var l=U;l.c=s}if(n&&(i.$$events=n),p&&Se(o,null),W=a,g=t(o,i)||{},W=!0,p&&(m.nodes_end=_,_===null||_.nodeType!==C||_.data!==Re))throw Ne(),V;s&&Ae()}),()=>{for(var o of h){e.removeEventListener(o,E);var l=y.get(o);--l===0?(document.removeEventListener(o,E),y.delete(o)):y.set(o,l)}I.delete(u),c!==r&&c.parentNode?.removeChild(c)}});return M.set(g,N),g}let M=new WeakMap;function Ge(t,e){const r=M.get(t);return r?(M.delete(t),r(e)):Promise.resolve()}export{We as a,W as b,Fe as c,qe as d,je as e,$e as h,Be as i,Pe as m,Ye as n,Ue as s,Ge as u};
